# ============================================
# FREYA TRADES PREVIEW HUB - Environment Variables
# ============================================
# Copy this file to .env.local and fill in your values
# ============================================

# --------------------------------------------
# VPN/PROXY DETECTION API
# --------------------------------------------
# IP2Location API (for geo-location and VPN detection)
# Get your API key from: https://www.ip2location.io/
# Multiple keys supported for fallback (comma-separated):
# IP2LOCATION_API_KEY=key1,key2,key3
# If first key fails/rate-limited, automatically tries next key
IP2LOCATION_API_KEY=your_ip2location_api_key_here

# --------------------------------------------
# COUNTRY RESTRICTIONS
# --------------------------------------------
# Comma-separated ISO country codes to block
# Example: IN = India, PK = Pakistan, CN = China
# Full list: https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2
RESTRICTED_COUNTRIES=IN

# --------------------------------------------
# PREVIEW SETTINGS
# --------------------------------------------
# Preview duration in seconds (default: 180 = 3 minutes)
PREVIEW_DURATION_SECONDS=180

# Time consumed threshold in seconds (default: 60)
# If an IP has consumed more than this many seconds, they are blocked
TIME_CONSUMED_THRESHOLD=60

# --------------------------------------------
# VPN RATE LIMITING
# --------------------------------------------
# Max VPN detection attempts before hard block
VPN_MAX_RETRIES=5

# Window in hours before VPN attempts reset
VPN_RETRY_WINDOW_HOURS=2

# --------------------------------------------
# EXTERNAL LINKS (Your signup/trial links)
# --------------------------------------------
# Telegram 3-Day Trial channel invite link
TRIAL_TELEGRAM_URL=https://t.me/your_preview_hub_bot

# Whop free trial product link
TRIAL_WHOP_URL=https://whop.com/your-product

# Inner Circle (paid) signup link
INNER_CIRCLE_URL=https://whop.com/your-inner-circle

# --------------------------------------------
# PUBLIC VARIABLES (Accessible in browser)
# --------------------------------------------
# These are prefixed with NEXT_PUBLIC_ to be available client-side
NEXT_PUBLIC_TRIAL_TELEGRAM_URL=https://t.me/your_preview_hub_bot
NEXT_PUBLIC_TRIAL_WHOP_URL=https://whop.com/your-product
NEXT_PUBLIC_INNER_CIRCLE_URL=https://whop.com/your-inner-circle

# ============================================
# AZURE COSMOS DB (Database)
# ============================================
# Used for storing IP records and signals

# --------------------------------------------
# Option 1: Azure Cosmos DB with MongoDB API (Recommended)
# --------------------------------------------
# Get connection string from Azure Portal:
# 1. Go to your Cosmos DB account
# 2. Settings > Connection String
# 3. Copy the "PRIMARY CONNECTION STRING"
AZURE_COSMOS_CONNECTION_STRING=mongodb://your-account:your-key@your-account.mongo.cosmos.azure.com:10255/?ssl=true&replicaSet=globaldb&retrywrites=false&maxIdleTimeMS=120000&appName=@your-account@

# Database name (will be created automatically)
AZURE_COSMOS_DB_NAME=freyatrades

# --------------------------------------------
# Option 2: Standard MongoDB (Alternative)
# --------------------------------------------
# If using MongoDB Atlas or self-hosted MongoDB instead
# MONGODB_URI=mongodb+srv://user:pass@cluster.mongodb.net/freyatrades

# ============================================
# TELEGRAM BOT CONFIGURATION
# ============================================

# --------------------------------------------
# Bot Token (Required for bot)
# --------------------------------------------
# Get from @BotFather on Telegram
# 1. Message @BotFather
# 2. Send /newbot
# 3. Copy the token
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# --------------------------------------------
# Source Channel ID (Optional)
# --------------------------------------------
# The channel ID where signals come from (your premium channel)
# To get channel ID:
# 1. Forward a message from the channel to @userinfobot
# 2. Copy the "Forwarded from chat" ID
# Format: -100XXXXXXXXXX (include the -100 prefix)
TELEGRAM_SOURCE_CHANNEL_ID=-1001234567890

# --------------------------------------------
# API Security
# --------------------------------------------
# Secret key for the signal ingest API
# Generate a random string: openssl rand -hex 32
# Or use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
INGEST_API_KEY=your-secret-api-key-here

# --------------------------------------------
# Website API URL
# --------------------------------------------
# For local development:
WEBSITE_API_URL=http://localhost:3000

# For production on Azure (change to your domain):
# WEBSITE_API_URL=https://your-app.azurewebsites.net
# Or with custom domain:
# WEBSITE_API_URL=https://live.freyatrades.page

# ============================================
# AZURE APP SERVICE SETTINGS
# ============================================
# These are automatically set by Azure, but you can override:

# Node.js version
# WEBSITE_NODE_DEFAULT_VERSION=20

# Port (Azure sets this automatically)
# PORT=8080
